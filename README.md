# FinMatch - ูุธุงู ููุงุฑูุฉ ุงููุดููุงุช ุงููุงููุฉ ๐ฌ

## ูุธุฑุฉ ุนุงูุฉ

**FinMatch** ูู ูุธุงู ุฐูู ูููุงุฑูุฉ ุงููุดููุงุช ุงููุงููุฉ (Excel/PDF) ูููุงู ููุนุงููุฑ ุตุงุฑูุฉุ ูุน ุฅูุชุงุฌ ุชูุงุฑูุฑ ุชุญููููุฉ ููุตูุฉ ุจุงูุนูููุงุช ุบูุฑ ุงููุทุงุจูุฉ.

### ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ
- โ **ูุนุงูุฌุฉ ูุญููุฉ ูุงููุฉ**: ูุง ูุชู ุฑูุน ุฃู ุจูุงูุงุช ููุณูุฑูุฑ (Client-Side Processing)
- โ **ุฎุตูุตูุฉ ุชุงูุฉ**: ุฌููุน ุงูุจูุงูุงุช ุชุจูู ูู ูุชุตูุญู ููุท
- โ **ุฏุนู Excel**: ูุฏุนู ุชูุณููุงุช .xlsx ู .xls
- โ **6 ูุนุงููุฑ ูุทุงุจูุฉ**: ููุงุฑูุฉ ุตุงุฑูุฉ ููู ูุนุงููุฑ ูุญุงุณุจูุฉ ุฏูููุฉ
- โ **ุชูุงุฑูุฑ ุงุญุชุฑุงููุฉ**: ุชุตุฏูุฑ JSON ู HTML ูุน ุชุญููู ุชูุตููู
- โ **ูุงุฌูุฉ ุนุฑุจูุฉ**: ุชุตููู ุญุฏูุซ ูุชุฌุงูุจ ุจุงููุงูู ุจุงูุนุฑุจูุฉ

---

## ๐ ุงูุฑูุงุจุท

### ๐ ุงูุชุทุจูู ุงููุจุงุดุฑ
**Sandbox (Development):**  
https://3000-irktmt10704tmrt5vwrnc-2e77fc33.sandbox.novita.ai

**API Health Check:**  
https://3000-irktmt10704tmrt5vwrnc-2e77fc33.sandbox.novita.ai/api/health

### ๐ฆ ุงูุฅูุชุงุฌ (ุจุนุฏ ุงููุดุฑ)
- **Cloudflare Pages**: ุณูุชู ูุดุฑู ูุฑูุจุงู
- **GitHub**: ุณูุชู ุฑุจุทู ุจูุณุชูุฏุน GitHub

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

### ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ
```
Frontend (Client-Side):
โโโ HTML5 + Tailwind CSS
โโโ Vanilla JavaScript (ES6+)
โโโ SheetJS (xlsx) - ููุนุงูุฌุฉ Excel
โโโ Font Awesome - ููุฃููููุงุช

Backend (Edge Runtime):
โโโ Hono Framework v4.10.4
โโโ Cloudflare Workers/Pages
โโโ TypeScript v5.0+
โโโ Vite v6.3.5 (Build Tool)
```

### ูููู ุงููุดุฑูุน
```
webapp/
โโโ src/
โ   โโโ index.tsx                 # Hono application
โโโ public/
โ   โโโ static/
โ       โโโ finmatch.js           # ูุญุฑู ุงููุนุงูุฌุฉ ูุงูููุงุฑูุฉ
โ       โโโ app.js                # ุงูุชุญูู ูู ุงููุงุฌูุฉ
โ       โโโ style.css             # ุฃููุงุท ูุฎุตุตุฉ
โโโ dist/                         # ูููุงุช ุงูุฅูุชุงุฌ (ุจุนุฏ ุงูุจูุงุก)
โโโ ecosystem.config.cjs          # PM2 configuration
โโโ wrangler.jsonc                # Cloudflare configuration
โโโ package.json
โโโ vite.config.ts
โโโ README.md
```

---

## ๐ ูุนุงููุฑ ุงููุทุงุจูุฉ ุงูุณุชุฉ

ูููู ุงููุธุงู ุจููุงุฑูุฉ ูู ุณุฌู ูุงูู ูููุงู ููุดุฑูุท ุงูุชุงููุฉ:

| # | ุงููุนูุงุฑ | ุงูุชูุงุตูู |
|---|---------|----------|
| 1๏ธโฃ | **ูุทุงุจูุฉ ุงูุนููุฉ** | ูุฌุจ ุชุทุงุจู ุงูุนููุฉ 100% (USD, EGP, SAR...) |
| 2๏ธโฃ | **ูุทุงุจูุฉ ุงูุทุจูุนุฉ** | ูุฌุจ ุชุทุงุจู ููุน ุงููุจูุบ (ูุฏูู/ุฏุงุฆู) |
| 3๏ธโฃ | **ูุทุงุจูุฉ ุงููุจูุบ** | ูุฌุจ ุชุทุงุจู ุงููุจูุบ ุจุฏูุฉ 100% |
| 4๏ธโฃ | **ูุฑู ุงูุชุงุฑูุฎ** | ูุฌุจ ุฃูุง ูุฒูุฏ ุงููุฑู ุนู **7 ุฃูุงู** |
| 5๏ธโฃ | **ุชุดุงุจู ููุน ุงูุนูููุฉ** | ูุฌุจ ุฃู ูููู ุงูุชุดุงุจู โฅ **80%** (Jaccard Similarity) |
| 6๏ธโฃ | **ุชุดุงุจู ุงูุจูุงู** | ูุฌุจ ุฃู ูููู ุงูุชุดุงุจู โฅ **50%** (Jaccard Similarity) |

**ููุงุญุธุฉ**: ูุนุชุจุฑ ุงูุณุฌู "ูุทุงุจู" ููุท ุฅุฐุง ุงุณุชููู **ุฌููุน** ุงูุดุฑูุท ุงูุณุชุฉ.

---

## ๐พ ูููุฐุฌ ุงูุจูุงูุงุช

### ุชูุณูู ุงููููุงุช ุงููุฏุนููุฉ

#### Excel (.xlsx, .xls)
ูุชู ุงููุดู ุงูุชููุงุฆู ุนู ุงูุฃุนูุฏุฉ ุญุณุจ ุงูุฃุณูุงุก:

```
ุงูุชุงุฑูุฎ | ุงููุจูุบ | ูุฏูู | ุฏุงุฆู | ููุน ุงูุนูููุฉ | ุงูุจูุงู | ุงูุนููุฉ | ุงูุทุจูุนุฉ
--------|--------|------|-------|-------------|--------|--------|--------
```

**ููุงุญุธุงุช ูุงูุฉ:**
- ูุชู ุชุฌุงูู ุงูุชุฑููุณุงุช ูุงูููุงูุด ูุงูุฃุนูุฏุฉ ุงูุฅุถุงููุฉ (ูุซู ุงูุฑุตูุฏุ ุงููุฑุฌุน)
- ูุชู ุฏุนู ุชูุณูู "ุนููุฏูู" ุญูุซ ูุธูุฑ ุงููุจูุบ ูู ุนููุฏ "ูุฏูู" ุฃู "ุฏุงุฆู"
- ูุชู ุชุฌุงูู ุงููุจุงูุบ ุงูุตูุฑูุฉ
- ุฅุฐุง ุฐูุฑุช ุงูุนููุฉ ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุชุฑููุณุฉุ ูุชู ุชุทุจูููุง ุนูู ุฌููุน ุงูุณุฌูุงุช

#### ูุซุงู ุนูู Excel ุตุญูุญ:
```
ุงูุชุงุฑูุฎ       | ูุฏูู    | ุฏุงุฆู   | ุงูุจูุงู                | ุงูุนููุฉ
-------------|---------|--------|----------------------|-------
01/01/2024   | 1000.00 |        | ุฏูุนุฉ ุฅูุฌุงุฑ           | EGP
02/01/2024   |         | 500.00 | ุฅูุฑุงุฏ ุฎุฏูุงุช          | EGP
```

---

## ๐ง ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js v18+
- npm v9+

### 1. Clone ุงููุดุฑูุน
```bash
git clone <repository-url>
cd webapp
```

### 2. ุชุซุจูุช ุงูููุชุจุงุช
```bash
npm install
```

### 3. ุงูุชุดุบูู ูู ุจูุฆุฉ ุงูุชุทููุฑ (Sandbox)
```bash
# ุจูุงุก ุงูุชุทุจูู ุฃููุงู
npm run build

# ุชุดุบูู ุจุงุณุชุฎุฏุงู PM2
pm2 start ecosystem.config.cjs

# ุฃู ุงูุชุดุบูู ุงููุจุงุดุฑ
npm run dev:sandbox
```

### 4. ุงูุชุดุบูู ุงููุญูู (Vite Dev Server)
```bash
npm run dev
```

---

## ๐ ุงููุดุฑ ุนูู Cloudflare Pages

### ุงูุฎุทูุงุช:

#### 1. ุฅุนุฏุงุฏ Cloudflare API Token
```bash
# ุงุณุชุฏุนุงุก ุฃุฏุงุฉ ุงูุฅุนุฏุงุฏ ุงูุชููุงุฆู
# (ูู sandbox environment)
setup_cloudflare_api_key
```

#### 2. ุงูุจูุงุก ูุงููุดุฑ
```bash
# ุจูุงุก ููุฅูุชุงุฌ
npm run build

# ูุดุฑ ุนูู Cloudflare Pages
npm run deploy:prod

# ุฃู ูุฏููุงู:
npx wrangler pages deploy dist --project-name finmatch
```

#### 3. ุฅูุดุงุก ุงููุดุฑูุน (ุฃูู ูุฑุฉ ููุท)
```bash
npx wrangler pages project create finmatch \
  --production-branch main \
  --compatibility-date 2024-01-01
```

---

## ๐ ุฏููู ุงูุงุณุชุฎุฏุงู

### 1. ุฑูุน ุงููููุงุช
1. ุงูุชุญ ุงูุชุทุจูู ูู ุงููุชุตูุญ
2. ุงุฎุชุฑ **ุงููุดู ุงูุฃูู** (ููู Excel)
3. ุงุฎุชุฑ **ุงููุดู ุงูุซุงูู** (ููู Excel)

### 2. ุจุฏุก ุงูููุงุฑูุฉ
- ุงุถุบุท ุนูู ุฒุฑ **"ุจุฏุก ุงูููุงุฑูุฉ"**
- ุณูุชู ุงููุนุงูุฌุฉ ูู ุซูุงูู (ุญุณุจ ุญุฌู ุงููููุงุช)

### 3. ุนุฑุถ ุงููุชุงุฆุฌ
ุณุชุธูุฑ ูู:
- **ููุฎุต ุงููุชุงุฆุฌ**: ุฅุญุตุงุฆูุงุช ุนุงูุฉ
- **ูุณุจุฉ ุงููุทุงุจูุฉ**: ุงููุณุจุฉ ุงููุฆููุฉ ููุณุฌูุงุช ุงููุชุทุงุจูุฉ
- **ูุงุฆูุฉ ุงูุนูููุงุช ุบูุฑ ุงููุทุงุจูุฉ**: ุชูุงุตูู ูู ุณุฌู ูุดู ูู ุงููุทุงุจูุฉ

### 4. ุงูุชุตุฏูุฑ
- **ุชุตุฏูุฑ JSON**: ููุชูุงูู ูุน ุฃูุธูุฉ ุฃุฎุฑู
- **ุชุตุฏูุฑ HTML**: ูุทุจุงุนุฉ ุงูุชูุฑูุฑ ุฃู ูุดุงุฑูุชู

---

## ๐ ูุซุงู ุนูู JSON Response

```json
{
  "report_id": "550e8400-e29b-41d4-a716-446655440000",
  "timestamp": "2024-01-15T10:30:00.000Z",
  "processing_time_ms": 1250,
  "file1_name": "statement_jan.xlsx",
  "file2_name": "statement_feb.xlsx",
  "total_records_file1": 150,
  "total_records_file2": 148,
  "matching_entries": 145,
  "match_rate": "96.67%",
  "non_matching_entries": [
    {
      "file1_entry": {
        "date": "2024-01-05T00:00:00.000Z",
        "amount": 1500.00,
        "nature": "debit",
        "operationType": "ุฏูุนุฉ ุฅูุฌุงุฑ",
        "description": "ุฅูุฌุงุฑ ุดูุฑ ููุงูุฑ",
        "currency": "EGP",
        "_rowIndex": 15,
        "_sourceFile": "statement_jan.xlsx"
      },
      "file2_candidates": [
        {
          "record": { /* ุฃูุฑุจ ุณุฌู ูุทุงุจู */ },
          "score": 75.5,
          "checks": {
            "currency": true,
            "nature": true,
            "amount": false,
            "date": true,
            "operationType": true,
            "description": true
          }
        }
      ],
      "failure_reasons": {
        "amount_mismatch": true,
        "nature_mismatch": false,
        "currency_mismatch": false,
        "date_diff_exceeds_7_days": false,
        "operation_type_similarity_lt_80": false,
        "description_similarity_lt_50": false
      }
    }
  ]
}
```

---

## ๐ก๏ธ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### ุถูุงูุงุช ุงูุฃูุงู
- โ **ูุง ุฑูุน ููุณูุฑูุฑ**: ุฌููุน ุงููููุงุช ุชูุนุงูุฌ ูู ุงููุชุตูุญ ููุท
- โ **ูุง ุชุฎุฒูู**: ูุง ูุชู ุญูุธ ุฃู ุจูุงูุงุช ุนูู ุฃู ุฎุงุฏู
- โ **ูุนุงูุฌุฉ ูู ุงูุฐุงูุฑุฉ**: ุงูุจูุงูุงุช ุชูุญุฐู ููุฑ ุฅุบูุงู ุงูุตูุญุฉ
- โ **ููุชุฑุฉ ุงููููุงุช**: ูุชู ุฑูุถ ุงูุงูุชุฏุงุฏุงุช ุงูุฎุทุฑุฉ (.exe, .bat...)

### ูููุฏ ุงูุชุดุบูู
- ุญุฌู ุงูููู: ููุตู ุจู < 5 MB (ูููุฏ ุงููุชุตูุญ)
- ุนุฏุฏ ุงูุณุฌูุงุช: ููุตู ุจู < 5000 ุณุฌู ููู ููู

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ API
```bash
curl http://localhost:3000/api/health
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "status": "ok",
  "service": "FinMatch",
  "version": "1.0.0",
  "timestamp": "2024-01-15T10:00:00.000Z"
}
```

---

## ๐ฆ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

```bash
npm run dev              # ุชุดุบูู Vite dev server
npm run dev:sandbox      # ุชุดุบูู wrangler dev (sandbox)
npm run build            # ุจูุงุก ููุฅูุชุงุฌ
npm run preview          # ูุนุงููุฉ ุงูุฅูุชุงุฌ ูุญููุงู
npm run deploy           # ูุดุฑ ุชููุงุฆู ุนูู Cloudflare
npm run deploy:prod      # ูุดุฑ ูุน ุงุณู ูุดุฑูุน ูุญุฏุฏ
npm run clean-port       # ุชูุธูู ุงููููุฐ 3000
npm run test             # ุงุฎุชุจุงุฑ ุจุณูุท ุจู curl
npm run git:commit       # git add + commit ุณุฑูุน
npm run git:status       # ุนุฑุถ ุญุงูุฉ Git
npm run git:log          # ุนุฑุถ ุณุฌู Git
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูููู ูุง ูููุฑุฃ ุจุดูู ุตุญูุญ
**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ุงูููู Excel ูุญุชูู ุนูู ุชุฑููุณุฉ ูุงุถุญุฉ
- ุชุญูู ูู ุฃุณูุงุก ุงูุฃุนูุฏุฉ (ูุฌุจ ุฃู ุชุญุชูู ุนูู ูููุงุช ูุซู "ุชุงุฑูุฎ"ุ "ูุจูุบ"ุ "ุจูุงู")
- ุฌุฑุจ ุชุญููู PDF ุฅูู Excel ุฃููุงู

### ุงููุดููุฉ: ุฌููุน ุงูุณุฌูุงุช "ุบูุฑ ูุทุงุจูุฉ"
**ุงูุญู:**
- ุชุญูู ูู ุชุทุงุจู ุงูุนููุฉ ูู ุงูููููู
- ุชุฃูุฏ ูู ุฃู ุงูุชูุงุฑูุฎ ุจููุณ ุงูุชูุณูู
- ุฑุงุฌุน ุฃู ุงููุจุงูุบ ูุชุทุงุจูุฉ ุฑูููุงู

### ุงููุดููุฉ: ุงููุธุงู ุจุทูุก
**ุงูุญู:**
- ููู ุนุฏุฏ ุงูุณุฌูุงุช (< 2000 ุณุฌู ููู ููู)
- ุงุณุชุฎุฏู ูุชุตูุญ ุญุฏูุซ (Chrome, Edge, Firefox)
- ุฃุบูู ุงูุชุทุจููุงุช ุงูุฃุฎุฑู ุงููุณุชูููุฉ ููุฐุงูุฑุฉ

---

## ๐ฎ ุงูููุฒุงุช ุงููุณุชูุจููุฉ

- [ ] ุฏุนู ูุงูู ููููุงุช PDF (ุงุณุชุฎุฑุงุฌ ุงูุฌุฏุงูู ุชููุงุฆูุงู)
- [ ] ุฏุนู CSV ู TXT
- [ ] ููุงุฑูุฉ ุฃูุซุฑ ูู ููููู ูู ููุณ ุงูููุช
- [ ] ุญูุธ ุงูุชูุงุฑูุฑ ูู ุงูุณุญุงุจุฉ (ุงุฎุชูุงุฑู)
- [ ] ุชูุงูู ูุน ุฃูุธูุฉ ERP (SAP, Oracle)
- [ ] ุชุตุฏูุฑ Excel ููุชูุงุฑูุฑ
- [ ] ูุงุฌูุฉ API ูููุทูุฑูู
- [ ] ุฏุนู ูุบุงุช ุฅุถุงููุฉ (ุฅูุฌููุฒูุ ูุฑูุณู)

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุดุฎุตู ูุงูุชุฌุงุฑู.

---

## ๐จโ๐ป ุงููุทูุฑ

ุชู ุชุทููุฑู ุจุงุณุชุฎุฏุงู:
- **Hono Framework** - ุฅุทุงุฑ ุนูู ุฎููู ูุณุฑูุน
- **Cloudflare Pages** - ูุดุฑ ุนูู ุงูุญุงูุฉ (Edge)
- **SheetJS** - ูุนุงูุฌุฉ Excel
- **Tailwind CSS** - ุชุตููู ุณุฑูุน ูุงุญุชุฑุงูู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ ุฃู ูุฏูู ุงูุชุฑุงุญุ ูุฑุฌู ูุชุญ Issue ุนูู GitHub.

---

**ูุณุฎุฉ:** 1.0.0  
**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-03  
**ุงูุญุงูุฉ:** โ ูุดุท ููุนูู

---

## โก Quick Start

```bash
# Clone, Install, Build, Run
git clone <repo>
cd webapp
npm install
npm run build
pm2 start ecosystem.config.cjs

# Test
curl http://localhost:3000/api/health

# Deploy
npm run deploy:prod
```

๐ **ุงุณุชูุชุน ุจุงุณุชุฎุฏุงู FinMatch!**
